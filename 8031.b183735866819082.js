"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8031],{8031:(m,c,n)=>{n.r(c),n.d(c,{ColetaPage:()=>C});var s=n(467),_=n(177),t=n(3953),d=n(4341),g=n(2063),u=n(6762),P=n(8982),f=n(3207),M=n(1389),O=n(6156),v=n(7291),p=n(4099);let C=(()=>{var o;class r{constructor(){this.storageService=(0,t.WQX)(v.n),this.satisfacaoService=(0,t.WQX)(O.y),this.router=(0,t.WQX)(g.Ix),this.authService=(0,t.WQX)(M.u),this.unidadeSelecionada=null,this.isOnline=!1}ngOnInit(){var i=this;return(0,s.A)(function*(){i.unidadeSelecionada=yield i.storageService.get("unidade_selecionada"),(0,p.X)().subscribe(e=>{i.isOnline=e})})()}registrarVoto(i){var e=this;return(0,s.A)(function*(){if(1!==i){const a={data:(0,P.GP)(new Date,"yyyy-MM-dd HH:mm:ss"),unidade:e.unidadeSelecionada.id,voto:i};e.isOnline?yield(0,f.s)(e.satisfacaoService.enviarVoto(a)):yield e.storageService.saveVote(a),yield e.router.navigate(["/agradecimento"],{state:{voto:i}})}else yield e.router.navigate(["/justificativa"])})()}btnSair(){var i=this;return(0,s.A)(function*(){yield i.authService.logout()})()}}return(o=r).\u0275fac=function(i){return new(i||o)},o.\u0275cmp=t.VBU({type:o,selectors:[["app-coleta"]],standalone:!0,features:[t.aNF],decls:25,vars:1,consts:[[1,"unidade"],["src","/assets/logo_satis.png"],[1,"container"],[1,"title"],[1,"coleta"],["role","button",1,"muito-satisfeito",3,"click"],["src","/assets/excelent.png"],["role","button",1,"satisfeito",3,"click"],["src","/assets/good.png"],["role","button",1,"insatisfeito",3,"click"],["src","/assets/bad.png"],["role","button",1,"invisible-button",3,"click"]],template:function(i,e){1&i&&(t.j41(0,"ion-content")(1,"div",0),t.nrm(2,"img",1),t.j41(3,"p"),t.EFF(4),t.k0s()(),t.j41(5,"div",2)(6,"div",3)(7,"p"),t.EFF(8,"Como foi sua experi\xeancia"),t.nrm(9,"br"),t.EFF(10,"em nosso restaurante?"),t.k0s()(),t.j41(11,"div",4)(12,"div",5),t.bIt("click",function(){return e.registrarVoto(3)}),t.nrm(13,"img",6),t.j41(14,"p"),t.EFF(15,"Muito satisfeito"),t.k0s()(),t.j41(16,"div",7),t.bIt("click",function(){return e.registrarVoto(2)}),t.nrm(17,"img",8),t.j41(18,"p"),t.EFF(19,"Satisfeito"),t.k0s()(),t.j41(20,"div",9),t.bIt("click",function(){return e.registrarVoto(1)}),t.nrm(21,"img",10),t.j41(22,"p"),t.EFF(23,"Insatisfeito"),t.k0s()()()()(),t.j41(24,"div",11),t.bIt("click",function(){return e.btnSair()}),t.k0s()),2&i&&(t.R7$(4),t.JRh(null==e.unidadeSelecionada?null:e.unidadeSelecionada.nome))},dependencies:[u.W9,_.MD,d.YN],styles:[".unidade[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:24px;padding:1rem}.unidade[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25%}.unidade[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:130%;font-weight:700}.coleta[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-around;padding:0 24px;gap:24px}.coleta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:120%;font-weight:700;text-align:center}.coleta[_ngcontent-%COMP%]   .muito-satisfeito[_ngcontent-%COMP%]{color:#11693c}.coleta[_ngcontent-%COMP%]   .satisfeito[_ngcontent-%COMP%]{color:#91c652}.coleta[_ngcontent-%COMP%]   .insatisfeito[_ngcontent-%COMP%]{color:#ba2733}.coleta[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;height:200px}.coleta[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.title[_ngcontent-%COMP%]{margin:24px 0 16px;padding:0 16px}.title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:170%;font-weight:700}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:70vh}.invisible-button[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:48px;height:48px;background-color:transparent}"]}),r})()}}]);